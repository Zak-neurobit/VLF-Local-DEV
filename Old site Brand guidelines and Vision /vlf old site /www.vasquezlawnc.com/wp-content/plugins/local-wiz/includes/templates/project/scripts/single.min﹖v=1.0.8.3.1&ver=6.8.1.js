var b=jQuery.noConflict(),e=[],f=[],{isArray:a}=Array;var c,d;function g(){console.log('Loading map...');A()};function h(){console.log('Error')}function A(){$lat=b('#map').data('lat');$lng=b('#map').data('lng');$zoom=b('#map').data('zoom');$location_name=b('#map').data('name');$marker_icon=b('#map').data('marker-icon');$marker_color=b('#map').data('marker-color');$marker_scale=b('#map').data('marker-scale');$marker_type=b('#map').data('marker-type');$clickable=b('#map').data('clickable');locations=pin_colors=pin_scales=pin_urls=pin_paths=[];var C=[],_b=[],_c=[],E=$marker_icon;var D=new google.maps.LatLngBounds();if($marker_type=='svg')var E={path:$marker_icon,fillColor:$marker_color||'green',fillOpacity:1,anchor:new google.maps.Point(0, 0),strokeWeight:0,scale:$marker_scale!=''?parseFloat($marker_scale):.075};galleries=headers=sliders=[];b('.map-popup').each(function(_a){locations[_a]=b(this).attr('data-loc');pin_colors[_a]=b(this).attr('data-mappincolor');pin_scales[_a]=b(this).attr('data-mappinscale');pin_urls[_a]=b(this).attr('data-mappinurl');pin_paths[_a]=b(this).attr('data-mappinpath');b(this).find('.gallery').length?(galleries[_a]=b(this).find('.gallery').html(),sliders[_a]=b(this).find('.lightbox-html').html()):(galleries[_a]='',sliders[_a]='');b(this).find('.content').length?headers[_a]=b(this).find('.content').html():headers[_a]=''});var D=new google.maps.LatLngBounds();a(locations)&&locations.length>0&&'\' . $city . \''!='all'?(lat_lng=locations[0].split('+|+'),c=new google.maps.Map(document.getElementById('map'), {center:{lat:parseFloat(lat_lng[0]),lng:parseFloat(lat_lng[1])},zoom:$zoom})):(c=new google.maps.Map(document.getElementById('map'), {center:{lat:$lat,lng:$lng},zoom:$zoom}),new google.maps.Marker({position:{lat:$lat,lng:$lng},map:c,id:'single-loc',icon:E}));(locations.length==0||locations.length==1)&&(D.extend(new google.maps.LatLng($lat-.1, $lng)),D.extend(new google.maps.LatLng($lat+1, $lng)));var F;for(F in locations){lat_lng=locations[F].split('+|+');popup_id=`popup-${(F)}`;$pin_color=pin_colors[F];$pin_scale=pin_scales[F];$pin_url=pin_urls[F];$pin_path=pin_paths[F];if($pin_url&&!$pin_path)new_icon=$pin_url;else $pin_path||$pin_color?new_icon={path:$pin_path||E['path'],fillColor:$pin_color||E['fillColor'],fillOpacity:1,anchor:new google.maps.Point(0, 0),strokeWeight:0,scale:$pin_scale!=''?parseFloat($pin_scale):E['scale']}:new_icon=E;console.log(new_icon);var G=new google.maps.Marker({position:new google.maps.LatLng(lat_lng[0], lat_lng[1]),map:c,id:popup_id,icon:new_icon});max_width=galleries[F]?400:300;galleries[F]?$content='<div class=\"map-popup\">'+headers[F]+'<div class=\"slider\"><div class=\"slide-container\">'+sliders[F]+'</div><a class=\"prev\" onclick=\"plusSlides(-1)\">&#10094;</a><a class=\"next\" onclick=\"plusSlides(1)\">&#10095;</a></div></div>':$content='<div class=\"map-popup\">'+headers[F]+'<img alt=\"'+lat_lng[2].replace('\"','')+'\" class=\"map-popup-feat\"  src=\"'+lat_lng[3]+'\"></div>';const _A=new google.maps.InfoWindow({content:$content,maxWidth:max_width});G.addListener('click',function(){k();_A.open(G.get('map'),G);e[0]=_A});D.extend(new google.maps.LatLng(lat_lng[0], lat_lng[1]))}};var j=document.createElement('script');j.src='https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v8.0&appId=2640516742883461&autoLogAppEvents=1';j.async=!0;document.head.appendChild(j);function k(){e.length>0&&(e[0].set('marker',null),e[0].close(),e.length=0)}function l(){function aA(aB,_B){this.position=aB;_B.classList.add('popup-bubble');var _C=document.createElement('div');_C.classList.add('popup-bubble-anchor');_C.appendChild(_B);this.containerDiv=document.createElement('div');this.containerDiv.classList.add('popup-container');this.containerDiv.appendChild(_C);google.maps.OverlayView.preventMapHitsAndGesturesFrom(this.containerDiv)}aA.prototype=Object.create(google.maps.OverlayView.prototype);aA.prototype.onAdd=function(){this.getPanes().floatPane.appendChild(this.containerDiv)};aA.prototype.onRemove=function(){this.containerDiv.parentElement?.removeChild(this.containerDiv)};aA.prototype.draw=function(){var aC=this.getProjection().fromLatLngToDivPixel(this.position),aD=Math.abs(aC.x)<4000&&Math.abs(aC.y)<4000?'block':'none';aD==='block'&&(this.containerDiv.style.left=aC.x+'px',this.containerDiv.style.top=aC.y+'px');this.containerDiv.style.display!==aD&&(this.containerDiv.style.display=aD)};return aA}function m(aE){b('.inner-project-container').replaceWith(aE['projects'])}function _(aF){b('.inner-project-container').replaceWith(aF['projects']);b('html, body').animate({scrollTop:b('.inner-project-container').offset().top},1000)}function o(){document.getElementById('myModal').style.display='block'}function B(){document.getElementById('myModal').style.display='none'}function q(n){}function r(n){}b(document).ready(function(){console.log('Document ready...');var aG=1;b('body').on('click','.interactive-map .read-more',function(){b(this).parents('.desc').find('.more').toggle();b(this).parents('.desc').find('.less').toggle()});b('body').on('click','.interactive-map .show-less',function(){b(this).parents('.desc').find('.more').toggle();b(this).parents('.desc').find('.less').toggle()});b('body').on('click','.slider .prev',function(){aG--;var aH=b('.slider .mySlides');console.log('xxx: '+aG+' --- '+aH.length);aG>aH.length&&(aG=1);aG<1&&(aG=aH.length);b('.slider .mySlides').css('display','none');b(`.slider .mySlides:nth-child(${aG})`).css('display','block')});b('body').on('click','.slider .next',function(){aG++;var aI=b('.slider .mySlides');console.log('xxx: '+aG+' --- '+aI.length);aG>aI.length&&(aG=1);aG<1&&(aG=aI.length);b('.slider .mySlides').css('display','none');b(`.slider .mySlides:nth-child(${aG})`).css('display','block')});b('body').on('click','#lightbox-wrapper .prev',function(){aG--;var aJ=b('#lightbox-wrapper .mySlides');console.log('xxx: '+aG+' --- '+aJ.length);aG>aJ.length&&(aG=1);aG<1&&(aG=aJ.length);b('#lightbox-wrapper .mySlides').css('display','none');b(`#lightbox-wrapper .mySlides:nth-child(${aG})`).css('display','block')});b('body').on('click','#lightbox-wrapper .next',function(){aG++;var aK=b('#lightbox-wrapper .mySlides');aG>aK.length&&(aG=1);aG<1&&(aG=aK.length);b('#lightbox-wrapper .mySlides').css('display','none');b(`#lightbox-wrapper .mySlides:nth-child(${aG})`).css('display','block')});b('body').on('click','.open-modal',function(){var p=b(this).data('proj'),i,_d=b('#lightbox-wrapper .mySlides'),_f=document.getElementById('caption');lightbox_html=b(`.map-popup#popup-${p} .lightbox-html`).html();b('#myModal .slide-container').html(lightbox_html);document.getElementById('myModal').style.display='block';var n=b(this).data('id');aG=n;console.log('Length: '+_d.length);console.log(`N:${n}`);var _e=document.getElementsByClassName('demo');n>_d.length&&(aG=1);n<1&&(aG=_d.length);for(i=0;i<_d.length;i++)_d[i].style.display='none';for(i=0;i<_e.length;i++)_e[i].className=_e[i].className.replace(' active','');_d[aG-1].style.display='block'});b('body').on('click','.show-lightbox',function(){$url=b(this).data('full');b('#map-gallery-lb').css('display','block');b('#map-gallery-lb #image').html(`<img src="${$url}" />`)});b('body').on('click','#map-gallery-lb .close',function(){b('#map-gallery-lb').css('display','none');return!1});b('body').on('click','.lw-toc-link',function(){$id=b(this).attr('rel');$top=b(this).parents('.lw-toc').data('pos');!$top&&($top=50);b([document.documentElement,document.body]).animate({scrollTop:b(`#${$id}`).offset().top-$top},1000)});b('body').on('click','#location-projects .lw-toc-label',function(){b('#location-projects .lw-toc-content').slideToggle({duration:400,complete:function(){$element=b(this).parents('.lw-toc').find('.lw-toc-label span');$element.toggleClass('shown');$element.hasClass('shown')?$element.html('-'):$element.html('+')}})});b('.archive #location-projects .address').on('click',function(){$lat=b(this).data('lat');$lng=b(this).data('lng');c=new google.maps.Map(document.getElementById('map'), {center:{lat:$lat,lng:$lng},zoom:10});new google.maps.Marker({position:{lat:$lat,lng:$lng},map:c,title:'Hello World!'})});if(b('.lw-gallery').length>0){b('.lw-gallery').slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!0});b('.lw-gallery-nav').slick({slidesToShow:6,slidesToScroll:1,asNavFor:'.lw-gallery',dots:!1,centerMode:!1,focusOnSelect:!0,responsive:[{breakpoint:768,settings:{arrows:!0,centerMode:!0,centerPadding:'40px',slidesToShow:3}}]});b('.lw-section .loading').length?b('.lw-section .loading').slideUp('500',function(){b('.lw-gallery').css('visibility','visible');b('.lw-gallery-nav').css('visibility','visible')}):b('.lw-gallery').css('visibility','visible')}b('body').on('click','.view-type .fa-list',function(){b('.view-type .fa-list').addClass('active');b('.view-type .fa-th-large').removeClass('active');b('#location-projects .boxes').addClass('list-view').removeClass('grid-view')});b('body').on('click','.view-type .fa-th-large',function(){b('.view-type .fa-list').removeClass('active');b('.view-type .fa-th-large').addClass('active');b('#location-projects .boxes').addClass('grid-view').removeClass('list-view')})});
