global:\n  scrape_interval: 15s\n  evaluation_interval: 15s\n\nrule_files:\n  - \"socket_alerts.yml\"\n\nalerting:\n  alertmanagers:\n    - static_configs:\n        - targets:\n          - alertmanager:9093\n\nscrape_configs:\n  # Prometheus itself\n  - job_name: 'prometheus'\n    static_configs:\n      - targets: ['localhost:9090']\n  \n  # Node Exporter for system metrics\n  - job_name: 'node_exporter'\n    static_configs:\n      - targets: ['node_exporter:9100']\n  \n  # Socket Server Health Check\n  - job_name: 'socket_health'\n    scrape_interval: 30s\n    metrics_path: '/api/health/socket'\n    params:\n      format: ['prometheus']\n    static_configs:\n      - targets: ['host.docker.internal:3000']\n    metric_relabel_configs:\n      - source_labels: [__name__]\n        regex: 'socket_health_.*'\n        target_label: __name__\n        replacement: '${1}'\n  \n  # Pushgateway for batch metrics\n  - job_name: 'pushgateway'\n    static_configs:\n      - targets: ['pushgateway:9091']\n  \n  # Redis metrics\n  - job_name: 'redis'\n    static_configs:\n      - targets: ['redis_exporter:9121']\n  \n  # Application metrics (if your app exposes them)\n  - job_name: 'vlf_app'\n    scrape_interval: 30s\n    static_configs:\n      - targets: ['host.docker.internal:3000']\n    metrics_path: '/api/metrics'\n    scrape_timeout: 10s\n    honor_labels: true\n  \n  # Custom Socket Monitor\n  - job_name: 'socket_monitor'\n    scrape_interval: 30s\n    static_configs:\n      - targets: ['socket_monitor:8080']\n    metrics_path: '/metrics'"